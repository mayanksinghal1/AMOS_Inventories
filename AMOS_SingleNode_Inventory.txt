OSEv3:vars]

###########################################################################
### Ansible Vars
###########################################################################
timeout=60
ansible_become=yes
ansible_ssh_user=ec2-user

# Set variables common for all OSEv3 hosts
openshift_deployment_type=openshift-enterprise
openshift_master_api_port=8443
openshift_master_console_port=8443
containerized=false
openshift_release=v3.9
#openshift_master_identity_providers=[{'name': 'RHIDM', 'challenge': 'true', 'login': 'true', 'kind': 'LDAPPasswordIdentityProvider', 'attributes': {'id': ['dn'], 'email': ['mail'], 'name': ['cn'], 'preferredUsername': ['uid']}, 'bindDN': 'cn=directory manager', 'bindPassword': 'redhat123', 'insecure': 'true', 'url': 'ldap://idm.amosdemo.io:389/cn=users,cn=accounts,dc=eu-west-2,dc=compute,dc=internal?uid'}]
openshift_master_cluster_method=native
#openshift_master_cluster_hostname=master-internal.amosdemo.io
openshift_master_cluster_public_hostname=master004.amosdemo.io
openshift_master_overwrite_named_certificates=true
openshift_set_hostname=true
#openshift_install_examples=true
openshift_image_tag=latest
openshift_disable_check=disk_availability,docker_image_availability,docker_storage,memory_availability,package_availability,package_version
openshift_docker_use_system_container=true
hosted_logging_deployer_version=latest
#openshift_logging_install_logging=true
openshift_node_kubelet_args={'image-gc-high-threshold': ['90'], 'image-gc-low-threshold': ['80']}
openshift_master_default_subdomain=apps004.amosdemo.io
openshift_hosted_router_selector='region=infra'
openshift_registry_selector='region=infra'
os_sdn_network_plugin_name='redhat/openshift-ovs-multitenant'

#### Openshift Metric Vars ########
openshift_metrics_install_metrics=true
openshift_hosted_metrics_deploy=true
openshift_hosted_metrics_public_url=https://hawkular-metrics.apps004.amosdemo.io/hawkular/metrics
openshift_metrics_cassandra_storage_type=dynamic
openshift_metrics_start_cluster=true

#### Openshift Logging Metrics ######
openshift_logging_install_logging=true
openshift_logging_es_pvc_dynamic=true


#openshift_metrics_cassandra_limits_memory=1Gi
#openshift_metrics_hawkular_limits_memory=2Gi
#openshift_metrics_heapster_limits_memory=1Gi
# openshift_metrics_image_version=v3.6.173.0.5
openshift_metrics_cassandra_nodeselector={"region":"infra"}
openshift_metrics_hawkular_nodeselector={"region":"infra"}
openshift_metrics_heapster_nodeselector={"region":"infra"}
#openshift_metrics_hawkular_agent_nodeselector={"region":"infra"}
nagios_server_hostname=nagios.amosdemo.io
redhat_organization_id=7458042
redhat_activationkey=AMOS-OCP-a776g2
#dynamic_volumes_check=false
#htpasswd auth
openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider','filename': '/etc/origin/master/htpasswd'}]
openshift_master_htpasswd_file=/usr/share/ansible/openshift-ansible/htpasswd/.htpasswd

openshift_storage_glusterfs_wipe=true
openshift_storage_glusterfs_is_native=true
openshift_storage_glusterfs_storageclass=true
openshift_storage_glusterfs_heketi_is_native=true
openshift_hosted_registry_storage_kind=glusterfs
openshift_storage_glusterfs_namespace=glusterfs
openshift_storage_glusterfs_name=storage
os_firewall_use_firewalld=True
[OSEv3:children]
masters
etcd
glusterfs
nodes


[masters]
amos-master.amosdemo.io ansible_ssh_user=ec2-user ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem

[etcd]
amos-master.amosdemo.io ansible_ssh_user=ec2-user ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem

[nodes]
amos-master.amosdemo.io ansible_ssh_user=ec2-user openshift_node_labels="{'role': 'master'}" ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem
amos-infra.amosdemo.io openshift_node_labels="{'region': 'infra', 'zone': 'us-east-2b', 'role': 'infra'}" ansible_ssh_user=ec2-user ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem
amos-compute1.amosdemo.io    openshift_node_labels="{'region': 'primary', 'zone': 'us-east-2c', 'role': 'infra'}" ansible_ssh_user=ec2-user ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem

amos-gluster1.amosdemo.io ansible_ssh_user=ec2-user openshift_node_labels="{'role': 'app'}" ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem
amos-gluster2.amosdemo.io ansible_ssh_user=ec2-user openshift_node_labels="{'role': 'app'}" ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem
amos-gluster3.amosdemo.io ansible_ssh_user=ec2-user openshift_node_labels="{'role': 'app'}" ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem

[glusterfs]
amos-gluster1.amosdemo.io ansible_ssh_user=ec2-user ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem glusterfs_devices='[ "/dev/xvde" ]'
amos-gluster2.amosdemo.io ansible_ssh_user=ec2-user ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem glusterfs_devices='[ "/dev/xvde" ]'
amos-gluster3.amosdemo.io ansible_ssh_user=ec2-user ansible_ssh_private_key_file=/home/ec2-user/.ssh/OCP39_AMOS_Infra.pem glusterfs_devices='[ "/dev/xvde" ]'
